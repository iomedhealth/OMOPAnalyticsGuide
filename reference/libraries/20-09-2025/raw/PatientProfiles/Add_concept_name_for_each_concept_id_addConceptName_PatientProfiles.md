# Add concept name for each concept_id — addConceptName • PatientProfiles

Skip to contents

[PatientProfiles](../index.html) 1.4.2

  * [Reference](../reference/index.html)
  * Articles
    * * * *

    * ###### PatientProfiles

    * [Adding patient demographics](../articles/demographics.html)
    * [Adding cohort intersections](../articles/cohort-intersect.html)
    * [Adding concept intersections](../articles/concept-intersect.html)
    * [Adding table intersections](../articles/table-intersect.html)
    * [Summarise result](../articles/summarise.html)
  * [Changelog](../news/index.html)


  *   * [](https://github.com/darwin-eu/PatientProfiles/)



![](../logo.png)

# Add concept name for each concept_id

Source: [`R/utilities.R`](https://github.com/darwin-eu/PatientProfiles/blob/v1.4.2/R/utilities.R)

`addConceptName.Rd`

Add concept name for each concept_id

## Usage
    
    
    addConceptName(table, column = NULL, nameStyle = "{column}_name")

## Arguments

table
    

cdm_table that contains column.

column
    

Column to add the concept names from. If NULL any column that its name ends with `concept_id` will be used.

nameStyle
    

Name of the new column.

## Value

table with an extra column with the concept names.

## Examples
    
    
    # \donttest{
    [library](https://rdrr.io/r/base/library.html)([PatientProfiles](https://darwin-eu.github.io/PatientProfiles/))
    [library](https://rdrr.io/r/base/library.html)([duckdb](https://r.duckdb.org/))
    #> Loading required package: DBI
    [library](https://rdrr.io/r/base/library.html)([CDMConnector](https://darwin-eu.github.io/CDMConnector/))
    [library](https://rdrr.io/r/base/library.html)([dplyr](https://dplyr.tidyverse.org), warn.conflicts = FALSE)
    
    dbName <- "GiBleed"
    [requireEunomia](https://darwin-eu.github.io/CDMConnector/reference/requireEunomia.html)(datasetName = dbName)
    #> ℹ `EUNOMIA_DATA_FOLDER` set to: /tmp/Rtmpx4JqXS.
    #> 
    #> Download completed!
    con <- [dbConnect](https://dbi.r-dbi.org/reference/dbConnect.html)(drv = [duckdb](https://r.duckdb.org/reference/duckdb.html)(dbdir = [eunomiaDir](https://darwin-eu.github.io/CDMConnector/reference/eunomiaDir.html)(datasetName = dbName)))
    #> Creating CDM database /tmp/Rtmpx4JqXS/GiBleed_5.3.zip
    cdm <- [cdmFromCon](https://darwin-eu.github.io/CDMConnector/reference/cdmFromCon.html)(con = con, cdmSchema = "main", writeSchema = "main")
    
    cdm$drug_exposure |>
      addConceptName(column = "drug_concept_id", nameStyle = "drug_name") |>
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: ??
    #> Columns: 24
    #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmpx4JqXS/file21f1526b7d68.duckdb]
    #> $ drug_exposure_id             <int> 26318, 60926, 26418, 54785, 47027, 38712,…
    #> $ person_id                    <int> 573, 1332, 576, 4550, 3895, 3199, 476, 11…
    #> $ drug_concept_id              <int> 40213160, 40213198, 40213260, 1118084, 40…
    #> $ drug_exposure_start_date     <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_start_datetime <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_end_date       <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_end_datetime   <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ verbatim_end_date            <date> 1960-04-09, 2010-10-06, 2017-10-25, NA, …
    #> $ drug_type_concept_id         <int> 581452, 581452, 581452, 38000177, 3800017…
    #> $ stop_reason                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ refills                      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ quantity                     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ days_supply                  <int> 0, 0, 0, 0, 0, 14, 0, 0, 0, 60, 14, 28, 7…
    #> $ sig                          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ route_concept_id             <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ lot_number                   <chr> "0", "0", "0", "0", "0", "0", "0", "0", "…
    #> $ provider_id                  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ visit_occurrence_id          <int> 38004, 88400, 38145, 303185, 259023, 2127…
    #> $ visit_detail_id              <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ drug_source_value            <chr> "10", "133", "121", "00025152531", "85700…
    #> $ drug_source_concept_id       <int> 40213160, 40213198, 40213260, 44923712, 4…
    #> $ route_source_value           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ dose_unit_source_value       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ drug_name                    <chr> "poliovirus vaccine, inactivated", "pneum…
    
    cdm$drug_exposure |>
      addConceptName() |>
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: ??
    #> Columns: 27
    #> Database: DuckDB v1.3.1 [unknown@Linux 6.11.0-1015-azure:R 4.5.1//tmp/Rtmpx4JqXS/file21f1526b7d68.duckdb]
    #> $ drug_exposure_id             <int> 26318, 60926, 26418, 54785, 47027, 38712,…
    #> $ person_id                    <int> 573, 1332, 576, 4550, 3895, 3199, 476, 11…
    #> $ drug_concept_id              <int> 40213160, 40213198, 40213260, 1118084, 40…
    #> $ drug_exposure_start_date     <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_start_datetime <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_end_date       <date> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ drug_exposure_end_datetime   <dttm> 1960-04-09, 2010-10-06, 2017-10-25, 2000…
    #> $ verbatim_end_date            <date> 1960-04-09, 2010-10-06, 2017-10-25, NA, …
    #> $ drug_type_concept_id         <int> 581452, 581452, 581452, 38000177, 3800017…
    #> $ stop_reason                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ refills                      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ quantity                     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ days_supply                  <int> 0, 0, 0, 0, 0, 14, 0, 0, 0, 60, 14, 28, 7…
    #> $ sig                          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ route_concept_id             <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ lot_number                   <chr> "0", "0", "0", "0", "0", "0", "0", "0", "…
    #> $ provider_id                  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ visit_occurrence_id          <int> 38004, 88400, 38145, 303185, 259023, 2127…
    #> $ visit_detail_id              <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
    #> $ drug_source_value            <chr> "10", "133", "121", "00025152531", "85700…
    #> $ drug_source_concept_id       <int> 40213160, 40213198, 40213260, 44923712, 4…
    #> $ route_source_value           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ dose_unit_source_value       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ drug_concept_id_name         <chr> "poliovirus vaccine, inactivated", "pneum…
    #> $ drug_type_concept_id_name    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ route_concept_id_name        <chr> "No matching concept", "No matching conce…
    #> $ drug_source_concept_id_name  <chr> "poliovirus vaccine, inactivated", "pneum…
    # }
    
    

## On this page

Developed by Martí Català, Yuchen Guo, Mike Du, Kim Lopez-Guell, Edward Burn, Nuria Mercade-Besora.

Site built with [pkgdown](https://pkgdown.r-lib.org/) 2.1.3.
