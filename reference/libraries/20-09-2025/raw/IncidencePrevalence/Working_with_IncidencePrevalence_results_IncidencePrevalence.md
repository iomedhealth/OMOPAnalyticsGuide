# Working with IncidencePrevalence results • IncidencePrevalence

Skip to contents

[IncidencePrevalence](../index.html) 1.2.1

  * [Reference](../reference/index.html)
  * Articles
    * [Introduction to IncidencePrevalence](../articles/a01_Introduction_to_IncidencePrevalence.html)
    * [Creating denominator cohorts](../articles/a02_Creating_denominator_populations.html)
    * [Creating target denominator populations](../articles/a03_Creating_target_denominator_populations.html)
    * [Calculating prevalence](../articles/a04_Calculating_prevalence.html)
    * [Calculating incidence](../articles/a05_Calculating_incidence.html)
    * [Working with IncidencePrevalence results](../articles/a06_Working_with_IncidencePrevalence_Results.html)
    * [Benchmarking the IncidencePrevalence R package](../articles/a07_benchmark.html)
  * [Changelog](../news/index.html)


  *   * [](https://github.com/darwin-eu/IncidencePrevalence/)



![](../logo.png)

# Working with IncidencePrevalence results

Source: [`vignettes/a06_Working_with_IncidencePrevalence_Results.Rmd`](https://github.com/darwin-eu/IncidencePrevalence/blob/v1.2.1/vignettes/a06_Working_with_IncidencePrevalence_Results.Rmd)

`a06_Working_with_IncidencePrevalence_Results.Rmd`

### Standardardised results format

The IncidencePrevalence returns results from analyses in a standardised results format, as defined in the omopgenerics package. This format, a `summarised_result`, is explained in general in the omopgenerics documenatation <https://darwin-eu.github.io/omopgenerics/articles/summarised_result.html>.

Let’s see how this result format is used by IncidencePrevalence.

We’ll first create some example incidence and prevalence results with a mock dataset.
    
    
    [library](https://rdrr.io/r/base/library.html)([dplyr](https://dplyr.tidyverse.org))
    [library](https://rdrr.io/r/base/library.html)([IncidencePrevalence](https://darwin-eu.github.io/IncidencePrevalence/))
    
    cdm <- [mockIncidencePrevalence](../reference/mockIncidencePrevalence.html)(
      sampleSize = 10000,
      outPre = 0.3,
      minOutcomeDays = 365,
      maxOutcomeDays = 3650
    )
    
    cdm <- [generateDenominatorCohortSet](../reference/generateDenominatorCohortSet.html)(
      cdm = cdm,
      name = "denominator",
      cohortDateRange = [as.Date](https://rdrr.io/r/base/as.Date.html)([c](https://rdrr.io/r/base/c.html)("2008-01-01", "2018-01-01")),
      ageGroup = [list](https://rdrr.io/r/base/list.html)(
        [c](https://rdrr.io/r/base/c.html)(0, 64),
        [c](https://rdrr.io/r/base/c.html)(65, 100)
      ),
      sex = [c](https://rdrr.io/r/base/c.html)("Male", "Female", "Both"),
      daysPriorObservation = 180
    )
    
    inc <- [estimateIncidence](../reference/estimateIncidence.html)(
      cdm = cdm,
      denominatorTable = "denominator",
      outcomeTable = "outcome",
      interval = "years",
      repeatedEvents = TRUE,
      outcomeWashout = 180,
      completeDatabaseIntervals = TRUE
    )
    
    prev_point <- [estimatePointPrevalence](../reference/estimatePointPrevalence.html)(
      cdm = cdm,
      denominatorTable = "denominator",
      outcomeTable = "outcome",
      interval = "years",
      timePoint = "start"
    )

We can see that both of our results object have a “summarised_result” class.
    
    
    [inherits](https://rdrr.io/r/base/class.html)(inc, "summarised_result")
    #> [1] TRUE
    
    [inherits](https://rdrr.io/r/base/class.html)(prev_point, "summarised_result")
    #> [1] TRUE

In practice, this means that our results have the following columns
    
    
    omopgenerics::[resultColumns](https://darwin-eu.github.io/omopgenerics/reference/resultColumns.html)("summarised_result")
    #>  [1] "result_id"        "cdm_name"         "group_name"       "group_level"     
    #>  [5] "strata_name"      "strata_level"     "variable_name"    "variable_level"  
    #>  [9] "estimate_name"    "estimate_type"    "estimate_value"   "additional_name" 
    #> [13] "additional_level"

And we can see that this is indeed the case for incidence and prevalence results
    
    
    inc |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 700
    #> Columns: 13
    #> $ result_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
    #> $ cdm_name         <chr> "mock", "mock", "mock", "mock", "mock", "mock", "mock…
    #> $ group_name       <chr> "denominator_cohort_name &&& outcome_cohort_name", "d…
    #> $ group_level      <chr> "denominator_cohort_3 &&& cohort_1", "denominator_coh…
    #> $ strata_name      <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ strata_level     <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ variable_name    <chr> "Denominator", "Outcome", "Denominator", "Denominator…
    #> $ variable_level   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ estimate_name    <chr> "denominator_count", "outcome_count", "person_days", …
    #> $ estimate_type    <chr> "integer", "integer", "numeric", "numeric", "numeric"…
    #> $ estimate_value   <chr> "326", "13", "96994", "265.555", "4895.408", "2606.59…
    #> $ additional_name  <chr> "incidence_start_date &&& incidence_end_date &&& anal…
    #> $ additional_level <chr> "2008-01-01 &&& 2008-12-31 &&& years", "2008-01-01 &&…
    
    prev_point |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 610
    #> Columns: 13
    #> $ result_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
    #> $ cdm_name         <chr> "mock", "mock", "mock", "mock", "mock", "mock", "mock…
    #> $ group_name       <chr> "denominator_cohort_name &&& outcome_cohort_name", "d…
    #> $ group_level      <chr> "denominator_cohort_3 &&& cohort_1", "denominator_coh…
    #> $ strata_name      <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ strata_level     <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ variable_name    <chr> "Denominator", "Outcome", "Outcome", "Outcome", "Outc…
    #> $ variable_level   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ estimate_name    <chr> "denominator_count", "outcome_count", "prevalence", "…
    #> $ estimate_type    <chr> "integer", "integer", "numeric", "numeric", "numeric"…
    #> $ estimate_value   <chr> "330", "57", "0.17273", "0.13577", "0.21722", "322", …
    #> $ additional_name  <chr> "prevalence_start_date &&& prevalence_end_date &&& an…
    #> $ additional_level <chr> "2008-01-01 &&& 2008-01-01 &&& years", "2008-01-01 &&…

In addition to these main results, we can see that our results are also associated with settings. These settings contain information on how the results were created. Although we can see that some settings are present for both incidence and prevalence, such as `denominator_days_prior_observation` which relates to the input to `daysPriorObservation` we specified above, others are only present for the relevant result, such analysis_outcome_washout which relates to the `outcomeWashout` argument used for the `[estimateIncidence()](../reference/estimateIncidence.html)` function.
    
    
    [settings](https://darwin-eu.github.io/omopgenerics/reference/settings.html)(inc) |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 12
    #> Columns: 20
    #> $ result_id                            <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
    #> $ result_type                          <chr> "incidence", "incidence", "incide…
    #> $ package_name                         <chr> "IncidencePrevalence", "Incidence…
    #> $ package_version                      <chr> "1.2.1", "1.2.1", "1.2.1", "1.2.1…
    #> $ group                                <chr> "denominator_cohort_name &&& outc…
    #> $ strata                               <chr> "", "", "", "", "", "", "reason",…
    #> $ additional                           <chr> "incidence_start_date &&& inciden…
    #> $ min_cell_count                       <chr> "0", "0", "0", "0", "0", "0", "0"…
    #> $ analysis_censor_cohort_name          <chr> "None", "None", "None", "None", "…
    #> $ analysis_complete_database_intervals <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ analysis_outcome_washout             <chr> "180", "180", "180", "180", "180"…
    #> $ analysis_repeated_events             <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ denominator_age_group                <chr> "0 to 64", "0 to 64", "0 to 64", …
    #> $ denominator_days_prior_observation   <chr> "180", "180", "180", "180", "180"…
    #> $ denominator_end_date                 <chr> "2018-01-01", "2018-01-01", "2018…
    #> $ denominator_requirements_at_entry    <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ denominator_sex                      <chr> "Both", "Female", "Male", "Both",…
    #> $ denominator_start_date               <chr> "2008-01-01", "2008-01-01", "2008…
    #> $ denominator_target_cohort_name       <chr> "None", "None", "None", "None", "…
    #> $ denominator_time_at_risk             <chr> "0 to Inf", "0 to Inf", "0 to Inf…
    
    [settings](https://darwin-eu.github.io/omopgenerics/reference/settings.html)(prev_point) |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 12
    #> Columns: 20
    #> $ result_id                            <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
    #> $ result_type                          <chr> "prevalence", "prevalence", "prev…
    #> $ package_name                         <chr> "IncidencePrevalence", "Incidence…
    #> $ package_version                      <chr> "1.2.1", "1.2.1", "1.2.1", "1.2.1…
    #> $ group                                <chr> "denominator_cohort_name &&& outc…
    #> $ strata                               <chr> "", "", "", "", "", "", "reason",…
    #> $ additional                           <chr> "prevalence_start_date &&& preval…
    #> $ min_cell_count                       <chr> "0", "0", "0", "0", "0", "0", "0"…
    #> $ analysis_complete_database_intervals <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ analysis_full_contribution           <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ analysis_level                       <chr> "person", "person", "person", "pe…
    #> $ analysis_type                        <chr> "point prevalence", "point preval…
    #> $ denominator_age_group                <chr> "0 to 64", "0 to 64", "0 to 64", …
    #> $ denominator_days_prior_observation   <chr> "180", "180", "180", "180", "180"…
    #> $ denominator_end_date                 <chr> "2018-01-01", "2018-01-01", "2018…
    #> $ denominator_requirements_at_entry    <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ denominator_sex                      <chr> "Both", "Female", "Male", "Both",…
    #> $ denominator_start_date               <chr> "2008-01-01", "2008-01-01", "2008…
    #> $ denominator_target_cohort_name       <chr> "None", "None", "None", "None", "…
    #> $ denominator_time_at_risk             <chr> "0 to Inf", "0 to Inf", "0 to Inf…

Because our results are in the same format we can easily combine them using the `bind`. We can see that after this we will have the same results columns, while the settings are now combined with all analytic choices used stored.
    
    
    results <- [bind](https://darwin-eu.github.io/omopgenerics/reference/bind.html)(inc, prev_point) |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 1,310
    #> Columns: 13
    #> $ result_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
    #> $ cdm_name         <chr> "mock", "mock", "mock", "mock", "mock", "mock", "mock…
    #> $ group_name       <chr> "denominator_cohort_name &&& outcome_cohort_name", "d…
    #> $ group_level      <chr> "denominator_cohort_3 &&& cohort_1", "denominator_coh…
    #> $ strata_name      <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ strata_level     <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ variable_name    <chr> "Denominator", "Outcome", "Denominator", "Denominator…
    #> $ variable_level   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ estimate_name    <chr> "denominator_count", "outcome_count", "person_days", …
    #> $ estimate_type    <chr> "integer", "integer", "numeric", "numeric", "numeric"…
    #> $ estimate_value   <chr> "326", "13", "96994", "265.555", "4895.408", "2606.59…
    #> $ additional_name  <chr> "incidence_start_date &&& incidence_end_date &&& anal…
    #> $ additional_level <chr> "2008-01-01 &&& 2008-12-31 &&& years", "2008-01-01 &&…
    
    results |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 1,310
    #> Columns: 13
    #> $ result_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
    #> $ cdm_name         <chr> "mock", "mock", "mock", "mock", "mock", "mock", "mock…
    #> $ group_name       <chr> "denominator_cohort_name &&& outcome_cohort_name", "d…
    #> $ group_level      <chr> "denominator_cohort_3 &&& cohort_1", "denominator_coh…
    #> $ strata_name      <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ strata_level     <chr> "overall", "overall", "overall", "overall", "overall"…
    #> $ variable_name    <chr> "Denominator", "Outcome", "Denominator", "Denominator…
    #> $ variable_level   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ estimate_name    <chr> "denominator_count", "outcome_count", "person_days", …
    #> $ estimate_type    <chr> "integer", "integer", "numeric", "numeric", "numeric"…
    #> $ estimate_value   <chr> "326", "13", "96994", "265.555", "4895.408", "2606.59…
    #> $ additional_name  <chr> "incidence_start_date &&& incidence_end_date &&& anal…
    #> $ additional_level <chr> "2008-01-01 &&& 2008-12-31 &&& years", "2008-01-01 &&…
    
    [settings](https://darwin-eu.github.io/omopgenerics/reference/settings.html)(results) |> 
      [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 24
    #> Columns: 23
    #> $ result_id                            <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
    #> $ result_type                          <chr> "incidence", "incidence", "incide…
    #> $ package_name                         <chr> "IncidencePrevalence", "Incidence…
    #> $ package_version                      <chr> "1.2.1", "1.2.1", "1.2.1", "1.2.1…
    #> $ group                                <chr> "denominator_cohort_name &&& outc…
    #> $ strata                               <chr> "", "", "", "", "", "", "reason",…
    #> $ additional                           <chr> "incidence_start_date &&& inciden…
    #> $ min_cell_count                       <chr> "0", "0", "0", "0", "0", "0", "0"…
    #> $ analysis_censor_cohort_name          <chr> "None", "None", "None", "None", "…
    #> $ analysis_complete_database_intervals <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ analysis_full_contribution           <chr> NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ analysis_level                       <chr> NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ analysis_outcome_washout             <chr> "180", "180", "180", "180", "180"…
    #> $ analysis_repeated_events             <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ analysis_type                        <chr> NA, NA, NA, NA, NA, NA, NA, NA, N…
    #> $ denominator_age_group                <chr> "0 to 64", "0 to 64", "0 to 64", …
    #> $ denominator_days_prior_observation   <chr> "180", "180", "180", "180", "180"…
    #> $ denominator_end_date                 <chr> "2018-01-01", "2018-01-01", "2018…
    #> $ denominator_requirements_at_entry    <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ denominator_sex                      <chr> "Both", "Female", "Male", "Both",…
    #> $ denominator_start_date               <chr> "2008-01-01", "2008-01-01", "2008…
    #> $ denominator_target_cohort_name       <chr> "None", "None", "None", "None", "…
    #> $ denominator_time_at_risk             <chr> "0 to Inf", "0 to Inf", "0 to Inf…

### Exporting and importing results

We can export our results in a single CSV. Note that when exporting we will apply minimum cell count of 5, suppressing any results below this.
    
    
    dir <- [file.path](https://rdrr.io/r/base/file.path.html)([tempdir](https://rdrr.io/r/base/tempfile.html)(), "my_study_results")
    [dir.create](https://rdrr.io/r/base/files2.html)(dir)
    
    [exportSummarisedResult](https://darwin-eu.github.io/omopgenerics/reference/exportSummarisedResult.html)(results,
                           minCellCount = 5,
                           fileName = "incidence_prevalence_results.csv",
                           path = dir)

We can see we have created a single CSV file with our results which contains our suppressed aggregated results which our ready to share.
    
    
    [list.files](https://rdrr.io/r/base/list.files.html)(dir)
    #> [1] "incidence_prevalence_results.csv"

We can import our results back into R (or if we’re running a network study we could import our set of results from data partners).
    
    
    res_imported <- [importSummarisedResult](https://darwin-eu.github.io/omopgenerics/reference/importSummarisedResult.html)(path = dir)

## Validate minimum cell count suppression

We can validate whether our results have been suppressed. We can see that our original results have not been suppressed but the ones we exported were.
    
    
    omopgenerics::[isResultSuppressed](https://darwin-eu.github.io/omopgenerics/reference/isResultSuppressed.html)(results)
    #> Warning: ✖ 24 (1310 rows) not suppressed.
    #> [1] FALSE
    
    
    omopgenerics::[isResultSuppressed](https://darwin-eu.github.io/omopgenerics/reference/isResultSuppressed.html)(res_imported)
    #> ✔ The <summarised_result> is suppressed with
    #> minCellCount = 5.
    #> [1] TRUE

## Tidying results for further analysis

Although our standardised result format is a nice way to combine, store, and share results, in can be somewhat difficult to use if we want to perform further analyses. So to get to a tidy format more specific to their type of results we can use asIncidenceResult() and asPrevalenceResult(), respectively.
    
    
    [asIncidenceResult](../reference/asIncidenceResult.html)(inc) |> [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 60
    #> Columns: 26
    #> $ cdm_name                             <chr> "mock", "mock", "mock", "mock", "…
    #> $ denominator_cohort_name              <chr> "denominator_cohort_3", "denomina…
    #> $ outcome_cohort_name                  <chr> "cohort_1", "cohort_1", "cohort_1…
    #> $ incidence_start_date                 <date> 2008-01-01, 2009-01-01, 2010-01-…
    #> $ incidence_end_date                   <date> 2008-12-31, 2009-12-31, 2010-12-…
    #> $ analysis_interval                    <chr> "years", "years", "years", "years…
    #> $ analysis_censor_cohort_name          <chr> "None", "None", "None", "None", "…
    #> $ analysis_complete_database_intervals <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ analysis_outcome_washout             <chr> "180", "180", "180", "180", "180"…
    #> $ analysis_repeated_events             <chr> "TRUE", "TRUE", "TRUE", "TRUE", "…
    #> $ denominator_age_group                <chr> "0 to 64", "0 to 64", "0 to 64", …
    #> $ denominator_days_prior_observation   <chr> "180", "180", "180", "180", "180"…
    #> $ denominator_end_date                 <date> 2018-01-01, 2018-01-01, 2018-01-…
    #> $ denominator_requirements_at_entry    <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ denominator_sex                      <chr> "Both", "Both", "Both", "Both", "…
    #> $ denominator_start_date               <date> 2008-01-01, 2008-01-01, 2008-01-…
    #> $ denominator_target_cohort_name       <chr> "None", "None", "None", "None", "…
    #> $ denominator_time_at_risk             <chr> "0 to Inf", "0 to Inf", "0 to Inf…
    #> $ denominator_count                    <int> 326, 317, 312, 235, 179, 140, 106…
    #> $ outcome_count                        <int> 13, 14, 20, 16, 6, 7, 4, 2, 4, 2,…
    #> $ person_days                          <dbl> 96994, 98005, 95462, 76142, 58392…
    #> $ person_years                         <dbl> 265.555, 268.323, 261.361, 208.46…
    #> $ incidence_100000_pys                 <dbl> 4895.408, 5217.592, 7652.251, 767…
    #> $ incidence_100000_pys_95CI_lower      <dbl> 2606.598, 2852.506, 4674.194, 438…
    #> $ incidence_100000_pys_95CI_upper      <dbl> 8371.296, 8754.233, 11818.281, 12…
    #> $ result_type                          <chr> "tidy_incidence", "tidy_incidence…
    
    
    [asPrevalenceResult](../reference/asPrevalenceResult.html)(prev_point) |> [glimpse](https://pillar.r-lib.org/reference/glimpse.html)()
    #> Rows: 66
    #> Columns: 24
    #> $ cdm_name                             <chr> "mock", "mock", "mock", "mock", "…
    #> $ denominator_cohort_name              <chr> "denominator_cohort_3", "denomina…
    #> $ outcome_cohort_name                  <chr> "cohort_1", "cohort_1", "cohort_1…
    #> $ prevalence_start_date                <date> 2008-01-01, 2009-01-01, 2010-01-…
    #> $ prevalence_end_date                  <date> 2008-01-01, 2009-01-01, 2010-01-…
    #> $ analysis_interval                    <chr> "years", "years", "years", "years…
    #> $ analysis_complete_database_intervals <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ analysis_full_contribution           <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ analysis_level                       <chr> "person", "person", "person", "pe…
    #> $ analysis_type                        <chr> "point prevalence", "point preval…
    #> $ denominator_age_group                <chr> "0 to 64", "0 to 64", "0 to 64", …
    #> $ denominator_days_prior_observation   <chr> "180", "180", "180", "180", "180"…
    #> $ denominator_end_date                 <date> 2018-01-01, 2018-01-01, 2018-01-…
    #> $ denominator_requirements_at_entry    <chr> "FALSE", "FALSE", "FALSE", "FALSE…
    #> $ denominator_sex                      <chr> "Both", "Both", "Both", "Both", "…
    #> $ denominator_start_date               <date> 2008-01-01, 2008-01-01, 2008-01-…
    #> $ denominator_target_cohort_name       <chr> "None", "None", "None", "None", "…
    #> $ denominator_time_at_risk             <chr> "0 to Inf", "0 to Inf", "0 to Inf…
    #> $ denominator_count                    <int> 330, 322, 326, 291, 236, 184, 142…
    #> $ outcome_count                        <int> 57, 55, 54, 56, 57, 44, 36, 27, 2…
    #> $ prevalence                           <dbl> 0.17273, 0.17081, 0.16564, 0.1924…
    #> $ prevalence_95CI_lower                <dbl> 0.13577, 0.13364, 0.12923, 0.1512…
    #> $ prevalence_95CI_upper                <dbl> 0.21722, 0.21573, 0.20985, 0.2416…
    #> $ result_type                          <chr> "tidy_prevalence", "tidy_prevalen…

With these formats it is now much easier to create custom tables, plots, or post-process are results. For a somewhat trivial example, we can use this to help us quickly add a smoothed line to our incidence results in a custom plot.
    
    
    [library](https://rdrr.io/r/base/library.html)([ggplot2](https://ggplot2.tidyverse.org))
    [asIncidenceResult](../reference/asIncidenceResult.html)(inc) |> 
      [ggplot](https://ggplot2.tidyverse.org/reference/ggplot.html)([aes](https://ggplot2.tidyverse.org/reference/aes.html)(x = incidence_start_date, 
                 y = incidence_100000_pys)) +
      [geom_point](https://ggplot2.tidyverse.org/reference/geom_point.html)() +  
      [geom_smooth](https://ggplot2.tidyverse.org/reference/geom_smooth.html)(method = "loess", se = FALSE, color = "red") +
      [theme_bw](https://ggplot2.tidyverse.org/reference/ggtheme.html)() +
      [facet_wrap](https://ggplot2.tidyverse.org/reference/facet_wrap.html)([vars](https://ggplot2.tidyverse.org/reference/vars.html)(denominator_age_group, denominator_sex)) + 
      [ggtitle](https://ggplot2.tidyverse.org/reference/labs.html)("Smoothed incidence rates over time") +
      [xlab](https://ggplot2.tidyverse.org/reference/labs.html)("Date") +
      [ylab](https://ggplot2.tidyverse.org/reference/labs.html)("Incidence per 100,000 person-years")

![](a06_Working_with_IncidencePrevalence_Results_files/figure-html/unnamed-chunk-15-1.png)

## On this page

Developed by Edward Burn, Berta Raventos, Martí Català.

Site built with [pkgdown](https://pkgdown.r-lib.org/) 2.1.3.
